ScreenLayout:


    nav_layout:nav_layout







    NavigationLayout:

        id:nav_layout
        screen_manager: screen_manager
        ScreenManager:


            id: screen_manager
            screen1: screen1
            screen2:screen2
            screen3:screen3
            camerascreen:camerascreen

            firebase_login_screen:firebase_login_screen
            #:import FirebaseLoginScreen firebaseloginscreen.firebaseloginscreen.FirebaseLoginScreen
            #:import XCamera xcamera.XCamera
            FirebaseLoginScreen:
                id: firebase_login_screen
                name: "firebase_login_screen"
                debug: False
                remember_user: True
                require_email_verification: True
                web_api_key: app.id_key# This should be YOUR web_api_key
                background: ""
                on_login_success:


                    if self.login_state == 'in': app.local_id = self.localId
                    if self.login_state == 'in': app.user_idToken = self.idToken

                    if self.login_state == 'in': screen_manager.current = 'screen1'


            MDScreen:

                id: screen1
                name: 'screen1'


                username: username

                kelas:kelas
                isi:isi
                spinn:spinn
                spinn1:spinn1


                MDToolbar:
                    title:""
                    pos_hint:{'top':1}
                    size_hint_y :0.05
                    elevation:10
                    left_action_items: [["menu",lambda x:nav_drawer.set_state()]]








                MDTextField:

                    id: kelas
                    hint_text: "Kelas (bisa di kosongkan)"
                    helper_text_mode: "on_focus"
                    width:450
                    size_hint_x:None

                    pos_hint:{'center_x': 0.3,'center_y':0.8}
               
                MDTextField:
                    id:username
                    hint_text: "Nama (bisa di kosongkan)"
                    helper_text_mode: "on_focus"

                    width:450
                    size_hint_x:None

                    pos_hint:{'center_x': 0.3,'center_y':0.85}



                MDTextFieldRect:
                    id:isi
                    size_hint :0.9,0.4
                    hint_text:"Isi Yg Mau Ditulis"
                    pos_hint:{'center_x': 0.5,'center_y':0.5}
                    multiline:True
                Spinner:
                    id:spinn
                    size_hint_x : None
                    width:250
                    height:50
                    size_hint_y:None
                    text: 'Font'


                    pos_hint:{'center_x': 0.77,'center_y':0.8}
                    values: '1', '2', '3'








                Spinner:
                    id:spinn1
                    size_hint_x : None
                    width:250
                    height:50
                    size_hint_y:None
                    text: 'Kertas'



                    values: '1', '2', '3','4','5'

                    pos_hint:{'center_x': 0.77,'center_y':0.85}
                MDFlatButton:
                    text: "Take Picture"
                    pos_hint: {'center_x': 0.7,'center_y':0.2}
                    size_hint_x:None

                    on_release:
                        root.get_permission()
                        app.take_picture()




                    

                MDRaisedButton:
                    text: "Change To Handwriting"
                    pos_hint: {'center_x': 0.3,'center_y':0.2}
                    size_hint_x:None

                    on_release:

                        root.check_data_login()
                        root.nav_layout.screen_manager.screen2.show_ads()
                        root.nav_layout.screen_manager.screen2.resume()


                MDFlatButton:

                    text:'See Recent Images'
                    pos_hint:{'center_x':0.3,'center_y':0.1}

                    on_release:
                        root.see_recent_images()
                        root.see_kertas10()
                MDFlatButton:
                    text: "Translate"
                    pos_hint: {'center_x': 0.7,'center_y':0.1}
                    size_hint_x:None
                    on_release: root.translation()















            Screen2
                id : screen2
                name: 'screen2'
                image1:image1

                Image:

                    id:image1

                    source:''
                    allow_stretch :True
                    keep_ratio:False
                MDRaisedButton:
                    text: "Back"
                    pos_hint: {'center_x': 0.1}
                    size_hint_x:None
                    on_release: root.back()

                MDToolbar:
                    title:"Type To Write"
                    pos_hint:{'top':1}
                    size_hint_y :0.05
                    left_action_items: [["menu",lambda x:root.back()]]


            Screen:
                name:'camerascreen'
                id:camerascreen
                xcamera:xcamera

                XCamera:

                    id: xcamera

                    on_picture_taken: app.picture_taken(*args)

                MDRaisedButton:
                    text:"Back"
                    on_press:root.change_screen('screen1')

            Screen:

                id:screen3
                name:'screen3'
                spinn12:spinn12


                Spinner:
                    id:spinn12
                    size_hint_x : None
                    width:250
                    height:50
                    size_hint_y:None
                    text: 'Liat Kertas'


                    pos_hint:{'center_x': 0.77,'center_y':0.8}
                    values: '1', '2', '3','4','5'

                MDRaisedButton:
                    text: "Back"
                    pos_hint: {'center_x': 0.1,'center_y':0.1}
                    size_hint_x:None
                    on_release: root.back()
                MDRaisedButton:
                    text: "Search"
                    pos_hint: {'center_x': 0.5,'center_y':0.1}
                    size_hint_x:None
                    on_release: root.search_kertas()



        MDNavigationDrawer:
            id:nav_drawer

            ContentNavigationDrawer:
                spacing:'8dp'
                padding:'8dp'
                orientation:'vertical'
                ItemDrawer:
                    theme_text_color: "Custom"
                    on_release: self.parent.set_color_item(self)
                MDFlatButton:
                    text:'Logout'

                    on_release:root.show_dialog()
                    pos_hint:{'center_x':0.5,'center_y':0.1}

                MDFlatButton:
                    text: "Page 2"
                    pos_hint: {'center_x': 0.5,'center_y':0.2}
                    size_hint_x:None
                    on_release: root.see_kertas()

                MDFlatButton:

                    text:'See Recent Images'
                    on_release:root.see_recent_images()
                    pos_hint:{'center_x':0.5,'center_y':0.1}

                    on_release:root.see_recent_images()
                MDFlatButton:
                    text:'Translate Photo'
                    on_release:

                        app.change_handwriting_to_text()

                    pos_hint:{'center_x':0.5,'center_y':0.2}
                ScrollView:











